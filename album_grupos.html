<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√Ålbum de Grupos - Fam√≠lia Aurich</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8f9f8; text-align: center; padding: 20px; color: #2d5a27; }
        
        /* --- ESTILO DO BOT√ÉO VOLTAR --- */
        .botao-voltar {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 20px;
            background-color: #2d5a27;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-size: 0.9em;
            transition: background 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .botao-voltar:hover { background-color: #1a3317; }

        #painel-controle { margin-bottom: 25px; }
        #campoBusca { padding: 12px; width: 85%; max-width: 600px; font-size: 1.1em; border-radius: 8px; border: 1px solid #2d5a27; outline: none; }
        #contador { margin-top: 10px; font-size: 0.9em; font-weight: bold; color: #666; height: 1.2em; }

        #container-galeria { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; min-height: 200px; }
        .item-galeria { width: 210px; background: #fff; padding: 8px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
        .foto-miniatura { width: 100%; height: 150px; object-fit: cover; border-radius: 4px; cursor: pointer; display: block; }
        
        .container-nicks { margin-top: 8px; font-size: 0.85em; text-align: center; line-height: 1.4; }
        .nick-link { color: #0056b3; text-decoration: none; cursor: pointer; margin: 0 4px; display: inline-block; }
        .nick-link:hover { text-decoration: underline; color: #003366; }

        .modal { display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.92); align-items: center; justify-content: center; }
        .modal-conteudo { width: 80vw; max-width: 1000px; height: auto; border: 4px solid white; border-radius: 4px; box-shadow: 0 0 25px rgba(0,0,0,0.5); }
        .fechar { position: absolute; top: 15px; right: 25px; color: white; font-size: 45px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <a href="index.html" class="botao-voltar">‚¨Ö Voltar para a √Årvore Geneal√≥gica</a>

    <h1>üå≥ Galeria de Grupos da Fam√≠lia</h1>
    
    <div id="painel-controle">
        <input type="text" id="campoBusca" onkeyup="filtrarFotos()" placeholder="üîç Digite pelo menos 2 letras para buscar...">
        <div id="contador">Aguardando busca...</div>
    </div>

    <div id="container-galeria"></div>

    <div id="fotoModal" class="modal" onclick="fecharModal(event)">
        <span class="fechar">&times;</span>
        <img class="modal-conteudo" id="imgExpandida">
    </div>

    <script>
        const PASTA = "fotos_grupos/";
        const FOTOS_BASE = [
                "ALBINO_HILDA_APOSENTADORIA.jpg",
                "ANETE_CRISTINA.jpg",
                "CARLINHOS_DIONE_LEANDRO.jpg",
                "CARM_DIONE_CARLINHOS.jpg",
                "CECILIA_JOAO_SIRLEI.jpg",
                "CRISTINA_SILVIO_SANDRA_SILVANA.jpg",
                "DANILO_DIONE_VALDIR.jpg",
                "DANILO_SERGIO_EDITH_SIRLEI_SYLVIO_SILVIO_IVONE.jpg",
                "DIONE_SIRLEI_DANILO_LIONI_CARM_SILVIO.jpg",
                "DIONE_CARLOS_EDITH_LEANDRO_SYLVIO.jpg",
                "DELVIRA_ELIANA.jpg",
                "DELVIRA_HILDA_SYLVIO_SIRLEI_EDITH_IVONE_RONNEY.jpg",
                "DIONE_RAFAEL.jpg",
                "ELIANA_CARLINHOS_CARLOS.jpg",
                "ELIANA_DIONE_CARLINHOS_RAFAEL.jpg",
                "GABRIEL_JOAREZ_SILVANA_LIONI_SILVIO_CRISTINA_LEONARDO_ZIANI.jpg",
                "HILDA_BISAV√ì_EDITH_DIONE_ELIANA.jpg",
                "LEONARDO_NEIRY_ANETE_RONNEY_RAFAEL_CARM.jpg",
                "LEANDRO_MARCIA_ELIANA_ELISA_ALICE_INGLESES.jpg",
                "MARIA_DIONE_EDITH_DAUDT.jpg",
                "PRAIA_INGLESES_AURICH_VERNEY_CECILIA.jpg",
                "RAFAEL_DIONE.jpg",
                "SANDRA_CHRYSTIAN_CHRISTIAN.jpg",
                "SILVIO_52_ANOS_SANDRA_CRISTINA_SILVANA.jpg"
        ];

        function renderizarGaleria(lista) {
            const container = document.getElementById('container-galeria');
            container.innerHTML = "";
            lista.forEach(nomeArquivo => {
                const divItem = document.createElement('div');
                divItem.className = 'item-galeria';
                const img = document.createElement('img');
                img.src = PASTA + nomeArquivo;
                img.className = "foto-miniatura";
                img.onclick = function() { abrirModal(this); };
                const divNicks = document.createElement('div');
                divNicks.className = 'container-nicks';
                const nicks = nomeArquivo.replace(".jpg", "").split("_");
                nicks.forEach((nick, index) => {
                    const spanNick = document.createElement('span');
                    spanNick.className = 'nick-link';
                    spanNick.innerText = nick;
                    spanNick.onclick = function() { filtrarPorNick(nick); };
                    divNicks.appendChild(spanNick);
                    if (index < nicks.length - 1) divNicks.appendChild(document.createTextNode(", "));
                });
                divItem.appendChild(img);
                divItem.appendChild(divNicks);
                container.appendChild(divItem);
            });
        }

        function filtrarPorNick(nick) {
            document.getElementById('campoBusca').value = nick;
            filtrarFotos();
        }

        function filtrarFotos() {
            const termo = document.getElementById('campoBusca').value.toLowerCase();
            const elContador = document.getElementById('contador');
            if (termo.length < 2) {
                renderizarGaleria([]);
                elContador.innerText = "Digite pelo menos 2 letras para iniciar a busca...";
                return;
            }
            const resultados = FOTOS_BASE.filter(nome => nome.toLowerCase().includes(termo));
            elContador.innerText = `Exibindo ${resultados.length} de ${FOTOS_BASE.length} fotos encontradas`;
            renderizarGaleria(resultados);
        }

        function abrirModal(elemento) {
            document.getElementById("fotoModal").style.display = "flex";
            document.getElementById("imgExpandida").src = elemento.src;
        }

        function fecharModal(event) {
            if (event.target.id === "fotoModal" || event.target.className === "fechar") {
                document.getElementById("fotoModal").style.display = "none";
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape") document.getElementById("fotoModal").style.display = "none";
        });

        window.onload = () => {
            document.getElementById('contador').innerText = "Aguardando busca (m√≠nimo 2 letras)...";
        };
    </script>
</body>
</html>